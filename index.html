<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vin_Redeemer</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>

  <style>
    body {
      background-color: #1a202c;
      color: white;
      font-family: sans-serif;
    }

    .banner {
      width: 100%;
      height: 30vh;
      overflow: hidden;
      position: relative;
      cursor: grab;
    }

    .banner::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
      pointer-events: none;
      z-index: 10;
    }

    .banner img {
      position: absolute;
      top: 58%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: auto;
      min-height: 100%;
      object-fit: cover;
      user-select: none;
      -webkit-user-drag: none;
      cursor: grab;
    }

    .banner.dragging {
      cursor: grabbing;
    }

    .streaming-stats {
      width: 70%;
      padding: 1.5rem;
      overflow-y: auto;
      margin-left: 5%;
    }

    .title {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 1rem;
      text-align: center;
    }

    .flex-container {
      display: flex;
      gap: 15px;
      width: 100%;
      justify-content: space-between; /* Ensures containers are spaced evenly */
    }

    .stat-container {
      width: 30%;
      background-color: #2d3748; /* equivalent to bg-gray-800 */
      padding: 1rem;
      border-radius: 0.375rem; /* rounded-lg */
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-md */
    }

    .stat-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      text-align: center;
    }

    .stat-list {
      margin-bottom: 0;
      list-style-type: none;
      padding: 0;
    }

    .stat-list li {
      display: flex;
      justify-content: space-between;  /* Aligns name and total to opposite sides */
      margin-bottom: 0.5rem;  /* Spacing between items */
      font-size: 1rem;
    }

    .stat-list li span {
      flex-grow: 1; /* Makes the name take up available space */
      text-align: left; /* Aligns name to the left */
    }

    .stat-list li .total {
      text-align: right; /* Aligns total to the right */
      flex-shrink: 0; /* Prevents shrinking of total */
    }

    /* Sidebar Container */
.sidebar {
  width: 15%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Profile Section */
.profile-section {
  background-color: #2d3748; /* bg-gray-800 */
  padding: 1rem;
  border-bottom: 1px solid #4a5568; /* border-gray-700 */
  flex: 1; /* Allow section to grow */
  height: 40%;
}

.profile-title {
  font-size: 1.25rem; /* text-xl */
  font-weight: 600; /* font-semibold */
  color: white;
}

.profile-nav {
  margin-top: 1rem;
}

.profile-link {
  display: block;
  color: white;
  text-decoration: none;
  margin-bottom: 1rem; /* Add margin for spacing between links */
}

.profile-link:hover {
  color: #9b3dd1; /* hover:text-purple-400 */
}

/* Top Supporters Section */
.supporters-section {
  background-color: #2d3748; /* bg-gray-800 */
  padding: 1rem;
  overflow-y: auto;
  flex: 1; /* Allow section to grow */
}

.supporters-title {
  font-size: 1.25rem; /* text-xl */
  font-weight: 600; /* font-semibold */
  color: white;
  margin-bottom: 0.5rem;
  height: 100%;
}

.supporters-list {
  margin-bottom: 0.75rem; /* space between items */
  height: 100%;
}

  </style>
</head>
<body>
  <!-- Banner -->
  <header class="banner" id="banner">
    <img src="./images/Banner.png" alt="Banner" id="bannerImg"/>
  </header>

  <!-- Main Content -->
  <main class="flex h-[100%]">
    <!-- Left Sidebar -->
    <aside class="sidebar">
      <!-- Profile Section -->
      <div class="profile-section">
        <h2 class="profile-title">Profile</h2>
        <nav class="profile-nav">
          <a href="biography.html" class="profile-link">Biography</a>
          <a href="games.html" class="profile-link">Games</a>
        </nav>
      </div>
      <div class="profile-section">
        <h2 class="profile-title">Socials</h2>
        <nav class="profile-nav">
          <a href="https://www.tiktok.com/@vin_redeemer?is_from_webapp=1&sender_device=pc" class="profile-link" target="_blank" rel="noopener noreferrer">TikTok</a>
          <a href="https://www.youtube.com/@vin_redeemergaming" class="profile-link">YouTube</a>
          <a href="https://discord.gg/6VbY53A3" class="profile-link">Discord</a>
        </nav>
      </div>
    

      <!-- Top Supporters Section -->
      <div class="supporters-section">
        <h2 class="supporters-title">Top Supporters</h2>
          <nav class="profile-nav">
          <a href="" class="profile-link" target="_blank" rel="noopener noreferrer">Patreon</a>
          <a href="" class="profile-link">Main</a>
          <a href="" class="profile-link">Boost</a>
        </nav>
      </div>

      <div class="profile-section">
        <h2 class="profile-title">Followers</h2>
        <nav class="profile-nav">
          <a href="" class="profile-link" target="_blank" rel="noopener noreferrer">All Followers</a>
        </nav>
      </div>
    </aside>

    <!-- Right Content Table -->
    <!-- Right Content Cards as Columns -->
    <main class="streaming-stats">
      <h2 class="title">Streaming Stats</h2>

      <!-- Main flex container with gap -->
      <div class="flex-container">
        <!-- Likers -->
        <div id="likersContainer" class="stat-container">
          <h3 class="stat-title">Likers</h3>
          <ul id="likersList" class="stat-list">
            <!-- Dynamically filled -->
          </ul>
        </div>

        <!-- Watchers -->
        <div id="watchersContainer" class="stat-container">
          <h3 class="stat-title">Watch Hours</h3>
          <ul id="watchersList" class="stat-list">
            <!-- Dynamically filled -->
          </ul>
        </div>

        <!-- Gifters -->
        <div id="giftersContainer" class="stat-container">
          <h3 class="stat-title">Gifters</h3>
          <ul id="giftersList" class="stat-list">
            <!-- Dynamically filled -->
          </ul>
        </div>
      </div>
    </main>

  </div>

  <script>
    function renderTopList(url, containerId, fieldLabel) {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById(containerId);
          container.innerHTML = '';

          const top10 = data
            .filter(entry => entry["Name"] && entry[fieldLabel])
            .map(entry => ({
              name: entry["Name"],
              value: parseInt(entry[fieldLabel].replace(/,/g, ''))
            }))
            .sort((a, b) => b.value - a.value)
            .slice(0, 10);

          top10.forEach(entry => {
            const item = document.createElement('li');
            item.innerHTML = `<span>${entry.name}</span><span class="total">${entry.value.toLocaleString()}</span>`;
            container.appendChild(item);
          });
        })
        .catch(err => console.error(`Error loading ${url}:`, err));
    }

    renderTopList('./likers.json', 'likersList', 'Likes');
    renderTopList('./watchers.json', 'watchersList', 'WatchHours');
    renderTopList('./gifters.json', 'giftersList', 'Gifts');

    // Banner dragging logic remains unchanged
    const banner = document.getElementById('banner');
    const bannerImg = document.getElementById('bannerImg');
    let isDragging = false;
    let startY, currentY = 0;

    banner.addEventListener('mousedown', (e) => {
      isDragging = true;
      startY = e.clientY - currentY;
      banner.classList.add('dragging');
    });

    document.addEventListener('mouseup', () => {
      isDragging = false;
      banner.classList.remove('dragging');
    });

    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      currentY = e.clientY - startY;

      const bannerHeight = banner.offsetHeight;
      const imgHeight = bannerImg.offsetHeight;
      const maxOffset = 0;
      const minOffset = bannerHeight - imgHeight;

      if (imgHeight > bannerHeight) {
        currentY = Math.max(Math.min(currentY, maxOffset), minOffset);
        bannerImg.style.top = currentY + 'px';
      }
    });
  </script>
</body>
</html>



